# Крымскотатарский семантический эмбеддинг
**Проект "Выделение характерных последовательностей в семантическом пространстве"**  
Руководитель: проф. Громов Василий Александрович

## Мотивация

Крымскотатарский язык слабо представлен в современных NLP-инструментах: нет качественной морфологической обработки, готовых векторных представлений слов, мало корпусных данных.  
**Цель проекта** — построить семантические эмбеддинги крымскотатарских слов (на основе корпуса текста), которые помогут:
- Выявлять характерные лексические и грамматические последовательности
- Анализировать особенности языка
- Строить низкоуровневые NLP-инструменты для крымскотатарского
- Улучшать машинный перевод и морфологию для смешанных и малоизученных языков  

Проект является частью большого направления проф. В.А. Громова — по сбору эмбеддингов для максимального числа языков, с особым вниманием к языкам малых народов России. Построенные эмбеддинги используются затем в различных исследованиях профиля ("Поймай бота", "Шутки в сторону" и др.), в том числе для анализа последовательностей в семантических пространствах.

## Быстрый старт

1. **Установка зависимостей:**
    ```
    pip install -r requirements.txt
    ```

2. **Основные стадии:**
    - Очистка, токенизация, лемматизация текстов
    - Построение лексикона и фильтрация слов
    - Сбор датасета для обучения
    - Обучение словарных эмбеддингов: CBOW и SVD
    - Анализ и использование полученных эмбеддингов

## Структура проекта

- Скрипты обработки от `s1_clean.py` до `s16_usage.py` постепенно формируют готовый корпус и эмбеддинги.
- Есть отдельные скрипты для чистки, токенизации (s4), лемматизации (s10), лексического фильтра (s6), построения словаря (s7), обучения word2vec/CBOW (s14), SVD на матрице сосуществования (s15)

### Ключевые методы

- **Лемматизация:**
    1. Собственный словарный и Heuristics-based лемматизатор для крымскотатарских слов
    2. Turkish Zeyrek Lemmatizer (работает плохо для QT)
    3. DeepSeek (Модель LLM; для фильтрации QT-слов)
    4. Примитивный лемматизатор, baseline

- **Обучение эмбеддингов:**
    - **CBOW (word2vec)** — через gensim (`cbow_model_qt_korpus.model`, `cbow_qt_vectors.bin, .txt`)
    - **SVD на матрице совместных вхождений** — скрипт s15_svd.py (`svd_embeddings.txt`)

### Достижения и результаты

- Собрана обширная лексика QT (~8245 слов)
- Лемматизация покрывает >25% токенов, опознаны основные грамм. формы, найдены "шумные" слова
- Покрыт корпус в 300k+ предложений, ~3 млн токенов
- **CBOW** — устойчивые эмбеддинги, хорошо работают на QT-словаx
- **SVD** — работает на чистом QT-лексиконе
- Фильтрация интернационализмов, шумов и смешанных слов, выделено много "чистых" QT-слов

### Недоработки и поиски

- Zeyrek (турецкий) и DeepSeek (LLM) работают хуже, много промахов на смешанной лексике
- Интернационализмы и заимствования нуждаются в отдельной обработке
- Морфология обработана примерно: сложные соглашения QT слабо автоматизируются

## Где что лежит

| Файл                  | Описание                                      |
|-----------------------|-----------------------------------------------|
| cbow_model_qt_korpus.model | Модель CBOW (gensim)                   |
| cbow_qt_vectors.bin/.txt   | Готовые векторы CBOW                    |
| svd_embeddings.txt         | Эмбеддинги (SVD на cooccurrence)         |
| revisedDict.pkl, ktatar_final_dict.pkl | Лексиконы/словари          |
| vocab.txt, vocab_freq.txt  | Список слов и их частотности             |
| word_filter_output.tsv     | Аннотация по QT/рус/иному слову          |

> **Внимание:**  
> Файл `cbow_dataset.txt` слишком большой (более 100 МБ) и не может быть размещён в репозитории GitHub из-за ограничений по размеру файлов.
> - Вы можете загрузить его из [Яндекс.Диска](https://disk.yandex.ru/d/SX96GBiwhPqasA)
> - Либо сгенерировать самостоятельно, запустив скрипт `s13_make_dataset.py` на вашем корпусе текстов.

## Как использовать эмбеддинги

- Для поиска похожих слов, nearest-neighbors (см. `s16_usage.py`)
- Для кластеризации лексики
- Для анализа типичных последовательностей в QT (см. публикации проф. Громова)
- Для low-resource MT/NLP для QT

## Авторы и благодарности

- Куратор (руководитель): проф. Громов В.А.
- Исполнитель: Пеганов Никита
- Использется корпус текстов, собранный мной в [qirimtatar-embedding-crawlers](https://github.com/NikPeg/qirimtatar-embedding-crawlers)

## Лицензия

Исходный код этого репозитория находится в свободном доступе и может свободно использоваться, изменяться и распространяться без ограничений.

Обратите внимание:
- Часть документов, использованных для корпуса текстов, была обработана с помощью библиотеки Aspose, которая добавляла водяные знаки об использовании оценки (evaluation only). Хотя эти водяные знаки были удалены из вывода, правовой статус оригинальных и обработанных файлов остаётся прежним. Пользователи обязаны уважать лицензионные ограничения исходных материалов.
- Сам корпус текстов может содержать материалы с различными авторскими правами. Используйте данные с учётом соответствующих лицензионных требований и ограничений.

Пожалуйста, самостоятельно убедитесь в законности использования текстовых данных в вашем проекте.